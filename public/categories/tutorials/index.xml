<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tutorials | Mike Mahoney</title>
    <link>/categories/tutorials/</link>
      <atom:link href="/categories/tutorials/index.xml" rel="self" type="application/rss+xml" />
    <description>Tutorials</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>© 2019</copyright><lastBuildDate>Wed, 09 Oct 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/logo.jpg</url>
      <title>Tutorials</title>
      <link>/categories/tutorials/</link>
    </image>
    
    <item>
      <title>Theory of Data Visualizations</title>
      <link>/tutorials/dataviz/dataviz-theory/</link>
      <pubDate>Wed, 09 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/tutorials/dataviz/dataviz-theory/</guid>
      <description>


&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Data visualization – our working definition will be “the graphical display of data” – is one of those things like driving, cooking, or standup: everyone thinks they’re really great at it, because they’ve been doing it for a while, and yet many – if not most – people don’t even know where they could start learning how much better they could be doing things. For something so essential to so many people’s daily work, data visualization is so rarely directly taught, and is usually assumed to be something people will pick up with time.&lt;/p&gt;
&lt;p&gt;However, that isn’t the best approach. Data visualization is a skill like any other, and even experienced practicioners could benefit from honing their skills in the subject. Hence, this short lesson on the topic. This set of three documents contain about the same amount of information as could be covered in a 60-90 minute lecture on the subject.&lt;/p&gt;
&lt;p&gt;At no point do I intend to teach you how to make a specific graphic in a specific software. I don’t know what softwares might be applicable to your needs in the future, or what visualizations you’ll need to formulate when, and quite frankly Google exists – so this isn’t a cookbook with step-by-step instructions. The goal here is not to provide you with recipes for the future, but rather to teach you what flour is – to introduce you to the basic concepts and building blocks of effective data visualizations.&lt;/p&gt;
&lt;div id=&#34;the-mantras&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The mantras&lt;/h2&gt;
&lt;p&gt;As much as possible, I’ve collapsed those concepts into four mantras we’ll return to throughout this course. The mantras are:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;A good graphic tells a story.&lt;/li&gt;
&lt;li&gt;Everything should be made as simple as possible, but no simpler.&lt;/li&gt;
&lt;li&gt;Use the right tool for the job.&lt;/li&gt;
&lt;li&gt;Ink is cheap. Electrons are even cheaper.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Each mantra serves as the theme for a section, and will also be interwoven throughout. The theme of this section is, easily enough:&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;a-good-graphic-tells-a-story&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;A good graphic tells a story&lt;/h2&gt;
&lt;p&gt;When making a graphic, it is important to understand what the graphic is for. After all, you usually won’t make a chart that is a perfect depiction of your data – modern datasets tend to be too big (in terms of number of observations) and wide (in terms of number of variables) to depict every datapoint on a single graph. Instead, the analyst consciously chooses what elements to include in a visualization in order to identify patterns and trends in the data in the most effective manner possible. In order to make those decisions, it helps a little to think both about &lt;em&gt;why&lt;/em&gt; and &lt;em&gt;how&lt;/em&gt; graphics are made.&lt;/p&gt;
&lt;div id=&#34;exploratory-vs-explanatory-graphics&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Exploratory vs explanatory graphics&lt;/h3&gt;
&lt;p&gt;As far as the &lt;em&gt;why&lt;/em&gt; question goes, the answer usually comes down to one of two larger categories:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To help identify patterns in a dataset, or&lt;/li&gt;
&lt;li&gt;To explain those patterns to a wider audience&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are the rationales behind creating what are known as, respectively, &lt;em&gt;exploratory&lt;/em&gt; and &lt;em&gt;explanatory&lt;/em&gt; graphics. Exploratory graphics are often very simple pictures of your data, built to identify patterns in your data that you might not know exist yet. Take for example a simple graphic, showing tree circumference as a function of age:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::opts_chunk$set(warning = F, message = F)
library(ggplot2)
  ggplot(dplyr::as_tibble(Orange), aes(age, circumference)) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/TheoryOfDataViz_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This visualization isn’t anything too complex – two variables, thirty-five observations, not much text – but it already shows us a trend that exists in the data. We could use this information, if we were so inspired, to start investigating the &lt;em&gt;whys&lt;/em&gt; of why tree growth changes with age, now that we’re broadly aware of &lt;em&gt;how&lt;/em&gt; it changes.&lt;/p&gt;
&lt;p&gt;Explanatory graphs, meanwhile, are all about the &lt;em&gt;whys&lt;/em&gt;. Where an exploratory graphic focuses on identifying patterns in the first place, an explanatory graphic aims to explain why they happen and – in the best examples – what exactly the reader is to do about them. Explanatory graphics can exist on their own or in the context of a larger report, but their goals are the same: to provide evidence about why a pattern exists and provide a call to action. For instance, we can reimagine the same tree graph with a few edits in order to explain what patterns we’re seeing:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
Orange %&amp;gt;%
  as_tibble() %&amp;gt;%
  ggplot(aes(age, circumference)) + 
  geom_point() + 
  geom_smooth(aes(group = Tree), se = F, color = &amp;quot;lightgrey&amp;quot;, formula = &amp;quot;y ~ poly(x, 3)&amp;quot;, method = &amp;quot;lm&amp;quot;) + 
  geom_smooth(se = F, color = &amp;quot;red&amp;quot;, formula = &amp;quot;y ~ poly(x, 3)&amp;quot;, method = &amp;quot;lm&amp;quot;) +
  scale_x_continuous(labels = c(&amp;quot;Growth increases as\nleaf area outpaces biomass&amp;quot;, 
                                &amp;quot;Biomass catches up,\nslowing growth&amp;quot;, 
                                &amp;quot;Biomass growth \noutpaces leaf area&amp;quot;, 
                                &amp;quot;I cut them down\nwith a saw&amp;quot;),
                     breaks = c(400, 800, 1200, 1550)) + 
  theme_classic() + 
  labs(x = &amp;quot;Age&amp;quot;,
       y = &amp;quot;Circumference (mm)&amp;quot;,
       title = &amp;quot;Orange tree growth tapers by year 4&amp;quot;,
       subtitle = &amp;quot;Biomass increases more rapidly than leaf area, slowing rate of growth once tree reaches 15cm&amp;quot;,
       caption = &amp;quot;Data from Draper and Smith, 1998\nRed line represents mean growth curve, grey lines growth curves for individual trees.&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/TheoryOfDataViz_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I want to specifically call out the title here: “Orange tree growth tapers by year 4.” A good graphic tells a story, remember. As such, whatever title you give your graph should reflect the point of that story – titles such as “Tree diameter (cm) versus age (days)” and so on add nothing that the user can’t get from the graphic itself. Instead, use your title to advance your message whenever it makes sense – otherwise, if it doesn’t add any new information, you can likely erase it altogether.&lt;/p&gt;
&lt;p&gt;The important takeaway here is not that explanatory graphics are necessarily more polished than exploratory ones, or that exploratory graphics are only for the analyst – periodic reporting, for instance, will often use highly polished exploratory graphics to identify existing trends, hoping to spur more intensive analysis that will identify the whys. Instead, the message is that knowing the end purpose of your graph – whether it should help identify patterns in the first place or explain how they got there – can help you decide what elements need to be included to tell the story your graphic is designed to address.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;how-do-we-tell-a-story&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;How do we tell a story?&lt;/h3&gt;
&lt;p&gt;The other important consideration when thinking about graph design is the actual &lt;em&gt;how&lt;/em&gt; you’ll tell your story, including what design elements you’ll use and what data you’ll display. My preferred paradigm when deciding between the possible “hows” is to weigh the &lt;em&gt;expressiveness and effectiveness&lt;/em&gt; of the resulting graphic – as defined by Jeffrey Heer at the University of Washington, that means:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Expressiveness&lt;/strong&gt;: A set of facts is expressible in a visual language if the sentences (i.e. the visualizations) in the language express all the facts in the set of data, and only the facts in the data.&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Effectiveness&lt;/strong&gt;: A visualization is more effective than another visualization if the information conveyed by one visualization is more readily perceived than the information in the other visualization.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Or, to simplify:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Tell the truth and nothing but the truth (don’t lie, and don’t lie by omission)&lt;/li&gt;
&lt;li&gt;Use encodings that people decode better (where better = faster and/or more accurate)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Keep this concept in the back of your mind as we move into our mechanics section – it should be your main consideration while deciding which elements you use! We’ll keep returning to these ideas of explanatory and exploratory, as well as expressiveness and effectiveness, throughout the rest of the sections.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Mechanics of Data Visualizations</title>
      <link>/tutorials/dataviz/dataviz-mechanics/</link>
      <pubDate>Wed, 09 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/tutorials/dataviz/dataviz-mechanics/</guid>
      <description>


&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Let’s move from theoretical considerations of graphing to the actual building blocks you have at your disposal. As we do so, we’re also going to move on to mantra #2:&lt;/p&gt;
&lt;div id=&#34;everything-should-be-made-as-simple-as-possible-but-no-simpler.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Everything should be made as simple as possible – but no simpler.&lt;/h2&gt;
&lt;p&gt;Graphs are inherently a 2D image of our data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)
ggplot(mpg, aes(displ, hwy)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;They have an x and a y scale, and - as in our scatterplot here - the position a point falls along each scale tells you how large its values are. But this setup only allows us to look at two variables in our data - and we’re frequently interested in seeing relationships between more than two variables.&lt;/p&gt;
&lt;p&gt;So the question becomes: how can we visualize those extra variables? We can try adding another position scale:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(lattice)
wireframe(hwy ~ cty + displ, data = mpg)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But 3D images are hard to wrap your head around, complicated to produce, and not as effective in delivering your message. They do have their uses - particularly when you’re able to build real 3D models, and not just make 3D shapes on 2D planes - but frequently aren’t worth the trouble.&lt;/p&gt;
&lt;p&gt;So what tools do we have in our toolbox? The ones that are generally agreed upon (no, really - this is an area of active debate) fall into four categories:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Position (like we already have with X and Y)&lt;/li&gt;
&lt;li&gt;Color&lt;/li&gt;
&lt;li&gt;Shape&lt;/li&gt;
&lt;li&gt;Size&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are the tools we can use to encode more information into our graphics. We’re going to call these &lt;em&gt;aesthetics&lt;/em&gt;, but any number of other words could work - some people refer to them as scales, some as values. I call them aesthetics because that’s what my software of choice calls them - but the word itself comes from the fact that these are the things that change how your graph looks.&lt;/p&gt;
&lt;p&gt;For what it’s worth, we’re using an EPA dataset for this unit, representing fuel economy data from 1999 and 2008 for 38 popular models of car. “Hwy” is highway mileage, “displ” is engine displacement (so volume), and “cty” is city mileage. But frankly, our dataset doesn’t matter right now - most of our discussion here is applicable to any dataset you’ll pick up.&lt;/p&gt;
&lt;p&gt;We’re going to go through each of these aesthetics, to talk about how you can encode more information in each of your graphics. Along the way, remember our mantras:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;A good graphic tells a story&lt;/li&gt;
&lt;li&gt;Everything should be made as simple as possible - but no simpler&lt;/li&gt;
&lt;li&gt;Use the right tool for the job&lt;/li&gt;
&lt;li&gt;Ink is cheap. Electrons are even cheaper&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We’ll talk about how these are applicable throughout this section.&lt;/p&gt;
&lt;div id=&#34;position&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Position&lt;/h3&gt;
&lt;p&gt;Let’s start off discussing these aesthetics by finishing up talking about position. The distance of values along the x, y, or – in the case of our 3D graphic – z axes represents how large a particular variable is. People inherently understand that values further out on each axis are more extreme - for instance, imagine you came across the following graphic (made with simulated data):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
tibble(x = rnorm(20, 0, 0.5),
       y = rnorm(20, 0, 0.5)) %&amp;gt;%
  ggplot(aes(x, y)) + 
  geom_point() + 
  geom_point(aes(x = 20, y = 20)) +
  theme(axis.text = element_blank())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Which values do you think are higher?&lt;/p&gt;
&lt;p&gt;Most people innately assume that the bottom-left hand corner represents a 0 on both axes, and that the further you get from that corner the higher the values are. This – relatively obvious – revelation hints at a much more important concept in data visualizations: perceptual topology should match data topology. Values that feel larger in a graph should represent values that &lt;em&gt;are&lt;/em&gt; larger in your data. As such, when working with position, higher values should be the ones further away from that lower left-hand corner – you should let your viewer’s subconscious assumptions do the heavy lifting for you.&lt;/p&gt;
&lt;p&gt;Applying this advice to categorical data can get a little tricky. Imagine that we’re looking at the average highway mileages for manufacturers of the cars in our dataset:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  ggplot(aes(manufacturer, hwy)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this case, the position along the x axis just represents a different car maker, in alphabetical order. But remember, position in a graph is an aesthetic that we can use to encode more information in our graphics. And we aren’t doing that here – for instance, we could show the same information without using x position at all:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  ggplot(aes(1, hwy, label = manufacturer)) + 
  geom_label() + 
  scale_x_discrete(limits = c(1, 1)) +
  theme(axis.text.x = element_blank()) + 
  labs (x = &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Try to compare Pontiac and Hyundai on the first graph, versus on this second one. If anything, removing our extraneous x aesthetic has made it easier to compare manufacturers. This is a big driver behind our second mantra – that everything should be made as simple as possible, but no simpler. Having extra aesthetics confuses a graph, making it harder to understand the story it’s trying to tell.&lt;/p&gt;
&lt;p&gt;However, when making a graphic, we should always be aiming to make important comparisons easy. As such, we should take advantage of our x aesthetic, arranging our manufacturers not by the alphabet, but rather by their average highway mileage:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(forcats)
mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  mutate(manufacturer = fct_reorder(manufacturer, hwy, .desc = T)) %&amp;gt;%
  ggplot(aes(manufacturer, hwy)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By reordering our graphic, we’re now able to better compare more similar manufacturers. It’s now dramatically faster to understand our visualization – closer comparisons are easier to make, so placing more similar values closer together makes them dramatically easier to grasp. Look at Pontiac vs Hyundai now, for instance. Generally speaking, don’t put things in alphabetical order - use the order you place things to encode additional information.&lt;/p&gt;
&lt;p&gt;As a quick sidenote, I personally believe that, when working with categorical values along the X axis, you should reorder your values so the highest value comes first. For some reason, I just find having the tallest bar/highest point (or whatever is being used to show value) next to the Y axis line is much cleaner looking than the alternative:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  mutate(manufacturer = fct_reorder(manufacturer, hwy)) %&amp;gt;%
  ggplot(aes(manufacturer, hwy)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For what it’s worth, I’m somewhat less dogmatic about this when the values are on the Y axis. I personally believe the highest value should always be at the top, as humans expect higher values to be further from that bottom left corner:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  mutate(manufacturer = fct_reorder(manufacturer, hwy)) %&amp;gt;%
  ggplot(aes(manufacturer, hwy)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07))) + 
  coord_flip()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, I’m not as instantly repulsed by the opposite ordering as I am with the X axis, likely because the bottom bar/point being the furthest looks like a more natural shape, and is still along the X axis line:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(manufacturer) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  mutate(manufacturer = fct_reorder(manufacturer, hwy, .desc = T)) %&amp;gt;%
  ggplot(aes(manufacturer, hwy)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07))) + 
  coord_flip()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;For this, at least, your mileage may vary. Also, it’s worth pointing out how much cleaner the labels on this graph are when they’re on the Y axis - flipping your coordinate system, like we’ve done here, is a good way to display data when you’ve got an unwieldy number of categories.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;color&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Color&lt;/h3&gt;
&lt;p&gt;While we’ve done a good job covering the role position plays in communicating information, we’re still stuck on the same question we started off with: How can we show a third variable on the graph?&lt;/p&gt;
&lt;p&gt;One of the most popular ways is to use colors to represent your third variable. It might be worth talking through how color can be used with a simulated dataset. Take for example the following graph:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df &amp;lt;- tibble(x = c(1:20),
        y = rnorm(20),
        z = rep(c(1, 2, 3, 4), 5))
ggplot(df, aes(x, y)) + 
  geom_point(size = 3) + 
  theme(text = element_blank(),
        legend.position = &amp;quot;null&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;And now let’s add color for our third variable:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(df, aes(x, y, color = factor(z))) + 
  geom_point(size = 3) + 
  theme(text = element_blank(),
        legend.position = &amp;quot;null&amp;quot;) + 
  scale_color_brewer(palette = &amp;quot;OrRd&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-11-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Remember: perceptual topology should match data topology. Which values are larger?&lt;/p&gt;
&lt;p&gt;Most people would say the darker ones. But is it always that simple? Let’s change our color scale to compare:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(df, aes(x, y, color = factor(z))) + 
  geom_point(size = 3) + 
  theme(text = element_blank(),
        legend.position = &amp;quot;null&amp;quot;) + 
  scale_color_brewer(palette = &amp;quot;Dark2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-12-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Sure, some of these colors are darker than others – but I wouldn’t say any of them tell me a value is particularly high or low.&lt;/p&gt;
&lt;p&gt;That’s because humans don’t percieve &lt;em&gt;hue&lt;/em&gt; as an ordered variable - the actual color a point is doesn’t tell us how large a value is. Instead, the first graph altered the &lt;em&gt;luminance&lt;/em&gt; of each point - how bright or dark it was - in order to tell us what value it has.&lt;/p&gt;
&lt;p&gt;There’s one other axis you can move colors along in order to encode value, known as &lt;em&gt;chroma&lt;/em&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(df, aes(x, y, color = z)) + 
  geom_point(size = 3) + 
  theme(text = element_blank(),
        legend.position = &amp;quot;null&amp;quot;) + 
  scale_color_gradient(low = &amp;quot;grey&amp;quot;, high = &amp;quot;red&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-13-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Chroma - or how vibrant a color is - also encodes a value, with more vibrant colors representing higher values. These three values – hue, chroma, and luminence – form the HCL color spectrum, which is more or less how humans perceive colors in our daily lives. By altering the C and L components, we’re able to use color to encode numeric values in our graphics.&lt;/p&gt;
&lt;p&gt;Now, color brings with it a number of challenges. For example, as we’ve already shown, changing the hue of a color doesn’t actually help us to encode any more information in our graphics. Combine that with the most common way to choose colors for a graphic - using the rainbow - and you wind up with a lot of graphics like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(df, aes(x, y, color = factor(z))) + 
  geom_point(size = 3) + 
  scale_color_manual(values = rainbow(5)) + 
  theme(text = element_blank(),
        legend.position = &amp;quot;null&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-14-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Which values are larger? Who knows?&lt;/p&gt;
&lt;p&gt;Now, it’s not actually fair of me to say that hue doesn’t encode any information in our graphics. For instance, in this example, you can clearly see that blue points are different in some manner from red points. It’s more appropriate to say that hue is an &lt;em&gt;unordered value&lt;/em&gt; – there’s no hue that represents a larger or smaller value than any other, but two hues do clearly represent two different values.&lt;/p&gt;
&lt;p&gt;This becomes relevant when dealing with categorical data. For instance, moving back to the scatterplot we started with:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(displ, hwy)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-15-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;If we wanted to encode a categorical variable in this – for instance, the class of vehicle – we could use hue to distinguish the different types of cars from one another:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(displ, hwy, color = class)) +
  geom_point() + 
  scale_color_brewer(palette = &amp;quot;Dark2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-16-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this case, using hue to distinguish our variables clearly makes more sense than using either chroma or luminesence:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(displ, hwy, color = class)) +
  geom_point() + 
  scale_color_brewer(palette = &amp;quot;OrRd&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-17-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This is a case of knowing what tool to use for the job - chroma and luminescence will clearly imply certain variables are closer together than is appropriate for categorical data, while hue won’t give your audience any helpful information about an ordered variable. Note, though, that I’d still discourage using the rainbow to distinguish categories in your graphics – the rainbow is not perceptually uniform (for instance, red and orange are much more similar colors than yellow and blue), and you’ll wind up implying connections between your categories that you might not want to suggest.&lt;/p&gt;
&lt;p&gt;Speaking of knowing the right rool for the job, one of the worst things people like to do in data visualizations is overuse color. Take for instance the following example:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(class) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  mutate(class = fct_reorder(class, hwy, .desc = T)) %&amp;gt;%
  ggplot(aes(class, hwy, fill = class)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07))) + 
  scale_fill_brewer(palette = &amp;quot;Dark2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-18-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this graph, the variable “class” is being represented by both position, along the x axis, and by color. By duplicating this effort, we’re making our graph harder to understand – encoding the information once is enough, and doing it any more times than that is a distraction. Remember the second mantra: Everything should be made as simple as possible – but no simpler. The best data visualization is one that includes all the elements needed to deliver the message, and no more.&lt;/p&gt;
&lt;p&gt;You can feel free to use color in your graphics, so long as it adds more information to the plot - for instance, if it’s encoding a third variable:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(class) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
  mutate(class = fct_reorder(class, hwy, .desc = T),
         &amp;quot;How much I like a car:&amp;quot; = c(&amp;quot;A lot&amp;quot;, &amp;quot;Don&amp;#39;t&amp;quot;, &amp;quot;A lot&amp;quot;, &amp;quot;Don&amp;#39;t&amp;quot;, &amp;quot;Meh&amp;quot;, &amp;quot;Don&amp;#39;t&amp;quot;, &amp;quot;Meh&amp;quot;)) %&amp;gt;%
  ggplot(aes(class, hwy, fill = `How much I like a car:`)) + 
  geom_col() + 
  scale_y_continuous(expand = expand_scale(mult = c(0, 0.07))) + 
  scale_fill_brewer(palette = &amp;quot;Dark2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-19-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But replicating as we did above is just adding more junk to your chart.&lt;/p&gt;
&lt;p&gt;There’s one last way you can use color effectively in your plot, and that’s to highlight points with certain characteristics:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(class) %&amp;gt;%
  filter(hwy == max(hwy)) %&amp;gt;%
  ggplot(aes(displ, hwy)) +
  geom_point(size = 3, aes(shape = class), color = &amp;quot;red&amp;quot;, show_guide = FALSE) + 
  geom_point(data = mpg, aes(shape = class)) + 
  labs(caption = &amp;quot;Points highlighted in red have the highest gas mileage for their class&amp;quot;) + 
  scale_shape_manual(values = c(14:22))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: `show_guide` has been deprecated. Please use `show.legend`
## instead.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-20-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Doing so allows the viewer to quickly pick out the most important sections of our graph, increasing its effectiveness. Note that I used shape instead of color to separate the class of vehicles, by the way – combining point highlighting and using color to distinguish categorical variables can work, but can also get somewhat chaotic:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(class) %&amp;gt;%
  filter(hwy == max(hwy)) %&amp;gt;%
  ggplot(aes(displ, hwy)) +
  geom_point(size = 3, aes(color = class), color = &amp;quot;red&amp;quot;, show_guide = FALSE) + 
  geom_point(data = mpg, aes(color = class)) + 
  labs(caption = &amp;quot;Points highlighted in red have the highest gas mileage for their class&amp;quot;) + 
  scale_shape_manual(values = c(14:22)) +
  scale_color_brewer(palette = &amp;quot;Dark2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: `show_guide` has been deprecated. Please use `show.legend`
## instead.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-21-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There’s one other reason color is a tricky aesthetic to get right in your graphics: about 5% of the population (10% of men, 1% of women) can’t see colors at all. That means you should be careful when using it in your visualizations – use colorblind-safe color palettes (google “ColorBrewer” or “viridis” for more on these), and pair it with another aesthetic whenever possible.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;shape&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Shape&lt;/h3&gt;
&lt;p&gt;The easiest aesthetic to pair color with is the next most frequently used – shape. This one is much more intuitive than color – to demonstrate, let’s go back to our scatterplot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ)) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-22-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can now change the shape of each point based on what class of vehicle it represents:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ, shape = class)) + 
  geom_point() + 
  scale_shape_manual(values = 1:7)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-23-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Imagine we were doing the same exercise as we did with color earlier – which values are larger?&lt;/p&gt;
&lt;p&gt;I’ve spoiled the answer already by telling you what the shapes represent – none of them are inherently larger than the others. Shape, like hue, is an &lt;em&gt;unordered value&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The same basic concepts apply when we change the shape of lines, not just points. For instance, if we plot separate trendlines for front-wheel, rear-wheel, and four-wheel drive cars, we can use linetype to represent each type of vehicle:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ, linetype = drv)) + 
  geom_smooth(se = F)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using method = &amp;#39;loess&amp;#39; and formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-24-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But even here, no one linetype implies a higher or lower value than the others.&lt;/p&gt;
&lt;p&gt;There are two caveats to be made to this rule, however. For instance, if we go back to our original scatterplot and change which shapes we’re using:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ, shape = class)) + 
  geom_point() + 
  scale_shape_manual(values = c(5, 23, 9, 2, 17, 6, 20))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-25-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This graph seems to imply more connection between the first three classes of car (which are all different types of diamonds) and the next three classes (which are all types of triangle), while singling out SUVs. In this way, we’re able to use shape to imply connection between our groupings - more similar shapes, which differ only in angle or texture, imply a closer relationship to one another than to other types of shape. This can be a blessing as well as a curse - if you pick, for example, a square and a diamond to represent two unrelated groupings, your audience might accidentally read more into the relationship than you had meant to imply.&lt;/p&gt;
&lt;p&gt;It’s also worth noting that different shapes can pretty quickly clutter up a graph. As a general rule of thumb, using more than 3-4 shapes on a graph is a bad idea, and more than 6 means you need to do some thinking about what you actually want people to take away.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;size&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Size&lt;/h3&gt;
&lt;p&gt;Our last aesthetic is that of size. Going back to our original scatterplot, we could imagine using size like this:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ, size = cty)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-26-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Size is an inherently &lt;em&gt;ordered value&lt;/em&gt; - large size points imply larger values. Specifically, humans perceive larger areas as corresponding to larger values - the points which are three times larger in the above graph are about three times larger in value, as well.&lt;/p&gt;
&lt;p&gt;This becomes tricky when size is used incorrectly, either by mistake or to distort the data. Sometimes an analyst maps radius to the variable, rather than area of the point, resulting in graphs as the below:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ, size = cty)) +
  geom_point() + 
  scale_radius()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-27-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this example, the points representing a cty value of 10 don’t look anything close to 1/3 as large as the points representing 30. This makes the increase seem much steeper upon looking at this chart – so be careful when working with size as an aesthetic that your software is using the area of points, not radius!&lt;/p&gt;
&lt;p&gt;It’s also worth noting that unlike color – which can be used to distinguish groupings, as well as represent an ordered value – it’s generally a bad idea to use size for a categorical variable. For instance, if we mapped point size to class of vehicle:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ, size = class)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-28-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We seem to be implying relationships here that don’t actually exist, like a minivan and midsize vehicle being basically the same. As a result, it’s best to only use size for continuous (or numeric) data.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;a-tangent&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;A Tangent&lt;/h3&gt;
&lt;p&gt;Now that we’ve gone over these four aesthetics, I want to go on a quick tangent. When it comes to how quickly and easily humans perceive each of these aesthetics, research has settled on the following order:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Position&lt;/li&gt;
&lt;li&gt;Size&lt;/li&gt;
&lt;li&gt;Color (especially chroma and luminescence)&lt;/li&gt;
&lt;li&gt;Shape&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And as we’ve discussed repeatedly, the best data visualization is one that includes exactly as many elements as it takes to deliver a message, and no more. Everything should be made as simple as possible, but no simpler.&lt;/p&gt;
&lt;p&gt;However, we live in a world of humans, where the scientifically most effective method is not always the most popular one. And since color is inherently more exciting than size as an aesthetic, the practitioner often finds themselves using colors to denote values where size would have sufficed. And since we know that color should usually be used alongside shape in order to be more inclusive in our visualizations, size often winds up being the last aesthetic used in a chart. This is fine - sometimes we have to optimize for other things than “how quickly can someone understand my chart”, such as “how attractive does my chart look” or “what does my boss want from me”. But it’s worth noting, in case you see contradictory advice in the future - the disagreement comes from if your source is teaching the most scientifically sound theory, or the most applicable practice.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;summary&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Summary&lt;/h3&gt;
&lt;p&gt;We started off this section with our second mantra: that everything should be made as simple as possible, but no simpler. The first half of that cautions us against overusing aesthetics and against adding too much to a graphic, lest we erode its efficency in conveying information:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(iris, aes(Sepal.Width, Sepal.Length, color = Species, size = Species, shape = Species)) + 
  geom_point() + 
  geom_smooth(se = F, aes(linetype = Species)) + 
  theme(legend.position = &amp;quot;none&amp;quot;,
        axis.text = element_blank()) + 
  labs( x = &amp;quot;&amp;quot;, 
        y = &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Using size for a discrete variable is not advised.&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `geom_smooth()` using method = &amp;#39;loess&amp;#39; and formula &amp;#39;y ~ x&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-29-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The second half cautions us against not using all the aesthetics it takes to tell our story, in case we don’t produce the most expressive graphic possible:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(iris, aes(Sepal.Length, Sepal.Width)) + 
  geom_point() + 
  theme(legend.position = &amp;quot;none&amp;quot;,
        axis.text = element_blank()) + 
  labs( x = &amp;quot;&amp;quot;, 
        y = &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-30-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Instead, we should use exactly as many aesthetics as it takes to tell our story, carefully choosing each to encode the most information possible into our graphics:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(iris, aes(Sepal.Length, Sepal.Width, color = Species)) + 
  geom_point() + 
  scale_color_brewer(palette = &amp;quot;Dark2&amp;quot;) + 
  theme(legend.position = &amp;quot;none&amp;quot;,
        axis.text = element_blank()) + 
  labs( x = &amp;quot;&amp;quot;, 
        y = &amp;quot;&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-31-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As for the specific takeaways from this section, I can think of the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Match perceptual and data topology – if a color or position &lt;em&gt;feels like a higher value&lt;/em&gt;, use it to represent data that is a higher value&lt;/li&gt;
&lt;li&gt;Make important comparisons easy – place them near each other, call attention to them&lt;/li&gt;
&lt;li&gt;Use aesthetics to encode more information into your graphics
&lt;ul&gt;
&lt;li&gt;Use exactly as many aesthetics as you need – no more, no less.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Don’t place things in alphabetical order&lt;/li&gt;
&lt;li&gt;Don’t use the rainbow for a color scheme&lt;/li&gt;
&lt;li&gt;Use ordered aesthetics (like position, chroma, luminescence, and size) to show ordered values (like numeric data)&lt;/li&gt;
&lt;li&gt;Use unordered aesthetics (like hue or shape) to show unordered values&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let’s transition away from aesthetics, and towards our third mantra:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;use-the-right-tool-for-the-job.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Use the right tool for the job.&lt;/h2&gt;
&lt;p&gt;Think back to our first chart:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-32-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As you already know, this is a &lt;em&gt;scatterplot&lt;/em&gt; - also known as a &lt;em&gt;point graph&lt;/em&gt;. Now say we added a line of best fit to it:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ)) +
  geom_point() + 
  geom_smooth(se = F)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-33-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This didn’t stop being a scatterplot once we drew a line on it – but the term scatterplot no longer really encompasses everything that’s going on here. It’s also obviously not a line chart, as even though there’s a line on it, it also has points.&lt;/p&gt;
&lt;p&gt;Rather than quibble about what type of chart this is, it’s more helpful to describe what tools we’ve used to depict our data. We refer to these as &lt;em&gt;geoms&lt;/em&gt;, short for &lt;em&gt;geometries&lt;/em&gt; – because when you get really deep into things, these are geometric representations of how your dataset is distributed along the x and y axes of your graph. I don’t want to get too far down that road – I just want to explain the vocabulary so that we aren’t talking about &lt;em&gt;what type of chart&lt;/em&gt; that is, but rather &lt;em&gt;what geoms it uses&lt;/em&gt;. Framing things that way makes it easier to understand how things can be combined and reformatted, rather than assuming each type of chart can only do one thing.&lt;/p&gt;
&lt;div id=&#34;two-continuous-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Two continuous variables&lt;/h3&gt;
&lt;p&gt;This chart uses two geoms that are really good for graphs that have a continuous y and a continuous x - points and lines. This is what people refer to most of the time when they say a line graph - a single smooth trendline that shows a pattern in the data. However, a line graph can also mean a chart where each point is connected in turn:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(mpg, aes(hwy, displ)) +
  geom_point() + 
  geom_line()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-34-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It’s important to be clear about which type of chart you’re expected to produce! I always refer to the prior as a trendline, for clarity.&lt;/p&gt;
&lt;p&gt;These types of charts have enormous value for quick exploratory graphics, showing how various combinations of variables interact with one another. For instance, many analysts start familiarizing themselves with new datasets using correlation matrices (also known as scatterplot matrices), which create a grid of scatterplots representing each variable:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  select_if(is.numeric) %&amp;gt;%
  GGally::ggpairs()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-35-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this format, understanding interactions between your data is quick and easy, with certain variable interactions obviously jumping out as promising avenues for further exploration.&lt;/p&gt;
&lt;p&gt;To back up just a little, there’s one major failing of scatterplots that I want to highlight before moving on. If you happen to have more than one point with the same x and y values, a scatterplot will just draw each point over the previous, making it seem like you have less data than you actually do. Adding a little bit of random noise - for instance, using RAND() in Excel - to your values can help show the actual densities of your data, especially when you’re dealing with numbers that haven’t been measured as precisely as they could a have been.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;a &amp;lt;- ggplot(mpg, aes(hwy, cty)) +
  geom_point()

b &amp;lt;- ggplot(mpg, aes(hwy, cty)) +
  geom_jitter()

cowplot::plot_grid(a, b)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-36-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One last chart that does well with two continuous variables is the area chart, which resembles a line chart but fills in the area beneath the line:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mpg %&amp;gt;%
  group_by(cty) %&amp;gt;%
  summarise(hwy = mean(hwy)) %&amp;gt;%
ggplot(aes(cty, hwy)) +
  geom_area()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-37-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Area plots make sense when 0 is a relevant number to your dataset – that is, a 0 value wouldn’t be particularly unexpected. They’re also frequently used when you have multiple groupings and care about their total sum:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  count(carat, cut) %&amp;gt;%
  ggplot(aes(carat, n, fill = cut)) +
  geom_area() +
  scale_x_continuous(limits = c(0.2, 2))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Removed 268 rows containing missing values (position_stack).&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-38-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;(This new dataset is the “diamonds” dataset, representing 54,000 diamonds sizes, qualities, cut, and sale prices. We’ll be going back and forth using it and the EPA dataset from now on.)&lt;/p&gt;
&lt;p&gt;Now one drawback of stacked area charts is that it can be very hard to estimate how any individual grouping shifts along the x axis, due to the cumulative effects of all the groups underneath them. For instance, there are actually fewer “fair” diamonds at 0.25 carats than at 1.0 – but because “ideal” and “premium” spike so much, your audience might draw the wrong conclusions. In situations where the total matters more than the groupings, this is alright – but otherwise, it’s worth looking at other types of charts as a result.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;one-continuous-variable&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;One continuous variable&lt;/h3&gt;
&lt;p&gt;If instead you’re looking to see how a single continuous variable is distributed throughout your dataset, one of the best tools at your disposal is the histogram. A histogram shows you how many observations in your dataset fall into a certain range of a continuous variable, and plot that count as a barplot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat)) + 
  geom_histogram()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-39-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One important flag to raise with histograms is that you need to pay attention to how your data is being binned. If you haven’t picked the right width for your bins, you might risk missing peaks and valleys in your dataset, and might misunderstand how your data is distributed – for instance, look what shifts if we graph 500 bins, instead of the 30 we used above:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat)) + 
  geom_histogram(bins = 500)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-40-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;An alternative to the histogram is the frequency plot, which uses a line chart in the place of bars to represent the frequency of a value in your dataset:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat)) + 
  geom_freqpoly(bins = 30)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-41-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Again, however, you have to pay attention to how wide your data bins are with these charts – you might accidentally smooth over major patterns in your data if you aren’t careful!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat)) + 
  geom_freqpoly(bins = 500)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-42-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One large advantage of the frequency chart over the histogram is how it deals with multiple groupings – if your groupings trade dominance at different levels of your variable, the frequency graph will make it much more obvious how they shift than a histogram will.&lt;/p&gt;
&lt;p&gt;(Note that I’ve done something weird to the data in order to show how the distributions change below.)&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat, color = cut)) + 
  geom_freqpoly(bins = 500) + 
  scale_y_log10()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: Transformation introduced infinite values in continuous y-axis&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-43-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;one-categorical-variable-one-continous&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;One categorical variable, one continous&lt;/h3&gt;
&lt;p&gt;If you want to compare a categorical and continuous variable, you’re usually stuck with some form of bar chart:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  group_by(cut, color) %&amp;gt;%
  summarise(price = mean(price)) %&amp;gt;%
  ggplot(aes(cut, price)) + 
  geom_col()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-44-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The bar chart is possibly the least exciting type of graph in existence, mostly because of how prevalent it is – but that’s because it’s really good at what it does. Bar charts are one of the most easily interpreted and effective types of visualizations, no matter how exciting they are.&lt;/p&gt;
&lt;p&gt;However, some people are really intent on ruining that. Take, for instance, the stacked bar chart, often used to add a third variable to the mix:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  group_by(cut, color) %&amp;gt;%
  summarise(price = mean(price)) %&amp;gt;%
  ggplot(aes(cut, price, fill = color)) + 
  geom_col()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-45-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Compare Fair/G to Premium/G. It’s next to impossible to accurately compare the boxes – they don’t share a top or a bottom line, so you can’t really make a comparison. In these situations, it’s a better idea to use a dodged bar chart instead:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  group_by(cut, color) %&amp;gt;%
  summarise(price = mean(price)) %&amp;gt;%
  ggplot(aes(cut, price, fill = color)) + 
  geom_col(position = &amp;quot;dodge&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-46-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Dodged bar charts are usually a better choice for comparing the actual numbers of different groupings. However, this chart does a good job showing one of the limitations dodged bar charts come up against – once you get past 4 or 5 groupings, making comparisons is tricky. In these cases, you’re probably trying to apply the wrong chart for the job, and should consider either breaking your chart up into smaller ones – remember, ink is cheap, and electrons or cheaper – or replacing your bars with a few lines.&lt;/p&gt;
&lt;p&gt;The one place where stacked bar charts are appropriate, however, is when you’re comparing the relative proportions of two different groups in each bar. For instance, take the following graph:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df &amp;lt;- tibble(x = rep(c(&amp;quot;A&amp;quot;, &amp;quot;B&amp;quot;, &amp;quot;C&amp;quot;), each = 2),
             y = c(60, 40, 70, 30, 75, 25),
             group = rep(c(&amp;quot;1&amp;quot;, &amp;quot;2&amp;quot;), 3))

ggplot(df, aes(x, y, fill = group)) + 
  geom_col()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-47-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this case, making comparisons across groups is trivial, made simple by the fact that the groupings all share a common line - at 100% for group 1, and at 0% for group 2. This point of reference solves the issue we had with more than two groupings – though note we’d still prefer a dodged bar chart if the bars didn’t always sum to the same amount.&lt;/p&gt;
&lt;div id=&#34;a-quick-tangent&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;A Quick Tangent&lt;/h4&gt;
&lt;p&gt;This is usually where most people will go on a super long rant about pie charts and how bad they are. They’re wrong, but in an understandable way. People love to hate on pie charts, because they’re almost universally a bad chart. However, if it’s important for your viewer to be able to quickly figure out what proportion two or more groupings make up of the whole, a pie chart is actually the fastest and most effective way to get the point across. For instance, compare the following pie and bar charts, made with the same dataset:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;df &amp;lt;- tibble(x = rep(1, 6),
   y = c(0.35, 0.25, 0.15, 0.1, 0.1, 0.05),
   group = c(&amp;quot;A&amp;quot;, &amp;quot;B&amp;quot;, &amp;quot;C&amp;quot;, &amp;quot;D&amp;quot;, &amp;quot;E&amp;quot;, &amp;quot;F&amp;quot;))

pie(df$y, labels = df$group)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-48-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(df, aes(x, y, fill = group)) + 
  geom_col()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-49-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It’s a lot easier to tell that, say, A is smaller than C through F in the pie chart than the bar plot, since humans are better at summing angles than areas. In these instances, feel free to use a pie chart – and to tell anyone giving you flack that I said it was OK.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;two-categorical-variables&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Two categorical variables&lt;/h3&gt;
&lt;p&gt;Our last combination is when you’re looking to have a categorical variable on both the x and y axis. These are trickier plots to think about, as we no longer encode value in position based on how far away a point is from the lower left hand corner, but rather have to get creative in effectively using position to encode a value. Remember that a geom is a geometric representation of how your dataset is distributed along the x and y axes of your graph. When both of your axes are categorical, you have to get creative to show that distribution.&lt;/p&gt;
&lt;p&gt;One method is to use density, as we would in a scatterplot, to show how many datapoints you have falling into each combination of categories graphed. You can do this by making a “point cloud” chart, where more dense clouds represent more common combinations:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(cut, clarity)) + 
  geom_jitter(alpha = 0.06)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-50-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Even without a single number on this chart, its message is clear - we can tell how our diamonds are distributed with a single glance. A similar way to do this is to use a heatmap, where differently colored cells represent a range of values:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  count(cut, clarity) %&amp;gt;%
  ggplot(aes(cut, clarity, fill = n)) + 
  geom_tile()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MechanicsOfDataViz_files/figure-html/unnamed-chunk-51-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I personally think heatmaps are less effective – partially because by using the color aesthetic to encode this value, you can’t use it for anything else – but they’re often easier to make with the resources at hand.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Making Excellent Visualizations</title>
      <link>/tutorials/dataviz/excellent/</link>
      <pubDate>Wed, 09 Oct 2019 00:00:00 +0000</pubDate>
      <guid>/tutorials/dataviz/excellent/</guid>
      <description>


&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;As we move into our final section, it’s time to dwell on our final mantra:&lt;/p&gt;
&lt;div id=&#34;ink-is-cheap.-electrons-are-even-cheaper.&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Ink is cheap. Electrons are even cheaper.&lt;/h2&gt;
&lt;div id=&#34;dealing-with-big-datasets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Dealing with big datasets&lt;/h3&gt;
&lt;p&gt;Think back to the diamonds dataset we used in the last section. It contains data on 54,000 individual diamonds, including the carat and sale price for each. If we wanted to compare those two continuous variables, we might think a scatterplot would be a good way to do so:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;knitr::opts_chunk$set(warning = F, message = F)
library(ggplot2)
ggplot(diamonds, aes(carat, price)) + 
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Unfortunately, it seems like 54,000 points is a few too many for this plot to do us much good! This is a clear case of what’s called &lt;em&gt;overplotting&lt;/em&gt; – we simply have too much data on a single graph.&lt;/p&gt;
&lt;p&gt;There are three real solutions to this problem. First off, we could decide simply that we want to refactor our chart, and instead show how a metric – such as average sale price – changes at different carats, rather than how our data is distributed:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(dplyr)
diamonds %&amp;gt;%
  ggplot(aes(carat, price)) + 
  geom_smooth(se = F)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There are all sorts of ways we can do this sort of refactoring – if we wanted, we could get a very similar graph by binning our data and making a bar plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds2 &amp;lt;- diamonds
diamonds2$Bin &amp;lt;- cut(diamonds$carat, 30, include.lowest = T)

diamonds2 %&amp;gt;%
  group_by(Bin) %&amp;gt;%
  summarise(price = mean(price)) %&amp;gt;%
  ggplot(aes(Bin, price)) + 
  geom_col(color = &amp;quot;black&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Either way, though, we’re not truly showing the same thing as was in the original graph – we don’t have any indication of how our data is distributed along both these axes.&lt;/p&gt;
&lt;p&gt;The second solution solves this problem much more effectively – make all your points semi-transparent:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  ggplot(aes(carat, price)) + 
  geom_point(alpha = 0.07)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;By doing this, we’re now able to see areas where our data is much more densely distributed, something that was lost in the summary statistics – for instance, it appears that low-carat diamonds are much more tighly grouped than higher carat ones. We can also see some dark stripes at “round-number” values for carat – that indicates to me that our data has some integrity issues, if appraisers are more likely to give a stone a rounded number.&lt;/p&gt;
&lt;p&gt;The challenge with this approach comes when we want to map a third variable – let’s use cut – in our graphic. We can try to change the aesthetics of our graph as usual:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  ggplot(aes(carat, price, color = cut, shape = cut)) + 
  geom_point(alpha = 0.07) + 
  guides(color = guide_legend(override.aes = list(alpha = 1)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;But unfortunately the sheer number of points drowns out most of the variance in color and shape on the graphic. In this case, our best option may be to facet our plots – that is, to split our one large plot into several small multiples:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  ggplot(aes(carat, price)) + 
  geom_point(alpha = 0.07) + 
  facet_wrap(~ cut)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Ink is cheap. Electrons are even cheaper. Make more than one graph.&lt;/p&gt;
&lt;p&gt;By splitting out our data into several smaller graphics, we’re much better able to see how the distribution shifts between our categories. In fact, we could use this technique to split our data even further, into a matrix of scatterplots showing how different groups are distributed:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;diamonds %&amp;gt;%
  ggplot(aes(carat, price)) + 
  geom_point(alpha = 0.07) + 
  facet_grid(cut ~ clarity)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One last, extremely helpful use of faceting is to split apart charts with multiple entangled lines:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat, price, color = clarity)) + 
  geom_smooth(se = F)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;These charts, commonly referred to as “spaghetti charts”, are usually much easier to use when split into small multiples:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat, price)) + 
  geom_smooth(se = F) + 
  facet_wrap(~ clarity)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now, one major drawback of facet charts is that they can make comparisons much harder – if, in our line chart, it’s more important to know that most clarities are close in price at 2 carats than it is to know how the price for each clarity changes with carat, then the first chart is likely the more effective option. In those cases, however, it’s worth reassessing how many lines you actually need on your graph – if you only care about a few clarities, then only include those lines. The goal is to make making important comparisons easy, with the understanding that some comparisons are more important than others.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;dealing-with-chartjunk&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Dealing with chartjunk&lt;/h3&gt;
&lt;p&gt;Cast your mind back to the graphic I used as an example of an explanatory chart:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;Orange %&amp;gt;%
  as_tibble() %&amp;gt;%
  ggplot(aes(age, circumference)) + 
  geom_point() + 
  geom_smooth(aes(group = Tree), se = F, color = &amp;quot;lightgrey&amp;quot;, formula = &amp;quot;y ~ poly(x, 3)&amp;quot;, method = &amp;quot;lm&amp;quot;) + 
  geom_smooth(se = F, color = &amp;quot;red&amp;quot;, formula = &amp;quot;y ~ poly(x, 3)&amp;quot;, method = &amp;quot;lm&amp;quot;) +
  scale_x_continuous(labels = c(&amp;quot;Growth increases as\nleaf area outpaces biomass&amp;quot;, 
                                &amp;quot;Biomass catches up,\nslowing growth&amp;quot;, 
                                &amp;quot;Biomass growth \noutpaces leaf area&amp;quot;, 
                                &amp;quot;I cut them down\nwith a saw&amp;quot;),
                     breaks = c(400, 800, 1200, 1550)) + 
  theme_classic() + 
  labs(x = &amp;quot;Age&amp;quot;,
       y = &amp;quot;Circumference (mm)&amp;quot;,
       title = &amp;quot;Orange tree growth tapers by year 4&amp;quot;,
       subtitle = &amp;quot;Biomass increases more rapidly than leaf area, slowing rate of growth once tree reaches 15cm&amp;quot;,
       caption = &amp;quot;Data from Draper and Smith, 1998\nRed line represents mean growth curve, grey lines growth curves for individual trees.&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;You might have noticed that this chart is differently styled from all the others in this course – it doesn’t have the grey background or grid lines or anything else.&lt;/p&gt;
&lt;p&gt;Remember our second mantra: everything should be made as simple as possible, but no simpler. This chart reflects that goal. We’ve lost some of the distracting elements – the colored background and gridlines – and changed the other elements to make the overall graphic more effective. The objective is to have no extraneous element on the graph, so that it might be as expressive and effective as possible. This usually means using minimal colors, minimal text, and no grid lines. (After all, those lines are usually only useful in order to pick out a specific value – and if you’re expecting people to need specific values, you should give them a table!)&lt;/p&gt;
&lt;p&gt;Those extraneous elements are known as &lt;em&gt;chartjunk&lt;/em&gt;. You see this a lot with graphs made in Excel – they’ll have dark backgrounds, dark lines, special shading effects or gradients that don’t encode information, or – worst of all – those “3D” bar/line/pie charts, because these things can be added with a single click. However, they tend to make your graphics less effective as they force the user to spend more time separating data from ornamentation. Everything should be made as simple as possible, but no simpler – so don’t try to pretty up your graph with non-useful elements.&lt;/p&gt;
&lt;p&gt;Another common instance of chartjunk is animation in graphics. While animated graphics are exciting and trendy, they tend to reduce the effectiveness of your graphics because as humans, when something is moving we can’t focus on anything else. &lt;a href=&#34;http://visionlab.harvard.edu/silencing/&#34;&gt;Check out these examples from the Harvard Vision Lab&lt;/a&gt; – they show just how hard it is to notice changes when animation is added. This isn’t to say you can never use animation – but its uses are best kept to times when your graphic looking cool is more important than it conveying information.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;common-mistakes&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Common Mistakes&lt;/h2&gt;
&lt;p&gt;As we wind down this course, I want to touch on a few common mistakes that didn’t have a great home in any other section – mostly because we were too busy talking about &lt;em&gt;good&lt;/em&gt; design principles.&lt;/p&gt;
&lt;div id=&#34;dual-y-axes&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Dual y axes&lt;/h3&gt;
&lt;p&gt;Chief amongst these mistakes are plots with two y axes, beloved by charlatans and financial advisors since days unwritten. Plots with two y axes are a great way to force a correlation that doesn’t really exist into existence on your chart. In almost every case, you should just make two graphs – ink is cheap. Electrions are even cheaper. The precise reasons are outside of the scope of this lesson, &lt;a href=&#34;https://kieranhealy.org/blog/archives/2016/01/16/two-y-axes/&#34;&gt;so check out thist link&lt;/a&gt; for an extremely entertaining read on the subject. I’ve borrowed Kieran’s code for the below viz – look at how we can imply different things, just by changing how we scale our axes!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(lubridate)

data &amp;lt;- read.csv(&amp;quot;data/fred-data.csv&amp;quot;)
data$date &amp;lt;- ymd(data$date)

## Time series
data$SP500 &amp;lt;- ts(data$SP500, frequency = 52, start=c(2009, 03, 11))
data$BOGMBASEW &amp;lt;- ts(data$BOGMBASEW, frequency = 52, start=c(2009, 03, 11))

### Quick convenience function, as we&amp;#39;re goingn to make this plot four
### times.
two.y &amp;lt;- function(x, y1, y2,
                  y1.lim = range(y1),
                  y2.lim = range(y2),
                  y2.lab = &amp;quot;Billions of Dollars&amp;quot;,
                  ttxt = NULL,
                  ...) {

    ## y1.lim &amp;lt;- range(y1)
    ## y2.lim &amp;lt;- range(y2)
    y1.lo &amp;lt;- y1.lim[1]
    y1.hi &amp;lt;- y1.lim[2]
    y2.lo &amp;lt;- y2.lim[1]
    y2.hi &amp;lt;- y2.lim[2]

    par(mar=c(5,4,4,5)+.1)
    plot(x, y1,
         type=&amp;quot;l&amp;quot;,
         col=&amp;quot;deepskyblue4&amp;quot;,
         xlab=&amp;quot;Date&amp;quot;,
         ylab=&amp;quot;Index&amp;quot;,
         ylim=c(y1.lo-100, y1.hi+100))

    par(new=TRUE)

    plot(x, y2, type=&amp;quot;l&amp;quot;,
         col=&amp;quot;firebrick&amp;quot;,
         xaxt=&amp;quot;n&amp;quot;,
         yaxt=&amp;quot;n&amp;quot;,
         xlab=&amp;quot;&amp;quot;,
         ylab=&amp;quot;&amp;quot;,
         ylim=c(y2.lo, y2.hi))
    title(main = ttxt)

    axis(4)

    mtext(y2.lab, side=4, line=3)
    legend(&amp;quot;topleft&amp;quot;,
           col=c(&amp;quot;deepskyblue4&amp;quot;,&amp;quot;firebrick&amp;quot;),
           bty=&amp;quot;n&amp;quot;, lty=1,
           legend=c(&amp;quot;S&amp;amp;P 500&amp;quot;, &amp;quot;Money Supply&amp;quot;))


}

par(mar=c(0,0,0,0)+.1)
par(mfrow = c(2,2))
## 1. Base plot
two.y(x=data$date,
      y1=data$SP500,
      y2=data$BOGMBASEW/1000,
      ttxt = &amp;quot;Original&amp;quot;)

## 2. Change an axis
two.y(x=data$date,
      y1=data$SP500,
      y2=data$BOGMBASEW/1000,
      y1.lim = c(696, 2126),
      y2.lim = c(0, 5000),
      ttxt = &amp;quot;Start y2 at zero&amp;quot;)


## 3. Change y1 axis limits
two.y(x=data$date,
      y1=data$SP500,
      y2=data$BOGMBASEW/1000,
      y1.lim = c(0, 4000),
      ttxt = &amp;quot;Start y1 at zero, max both at max y2&amp;quot;)


## 4. Put them both on the same axis
## (kind of a degenerate case)
two.y(x=data$date,
      y1=data$SP500,
      y2=data$BOGMBASEW,
      y1.lim = c(0, max(data$BOGMBASEW + 1000)),
      y2.lim = c(0, max(data$BOGMBASEW + 1000)),
      y2.lab = &amp;quot;Millions of Dollars&amp;quot;,
      ttxt = &amp;quot;Both on the same scale&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-11-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;overcomplex-visualizations&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Overcomplex visualizations&lt;/h3&gt;
&lt;p&gt;Another common issue in visualizations comes from the analyst getting a little too technical with their graphs. For instance, think back to our original diamonds scatterplot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat, price)) +
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-12-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Looking at this chart, we can see that carat and price have a positive correlation – as one increases, the other does as well. However, it’s not a linear relationship; instead, it appears that price increases faster as carat increases.&lt;/p&gt;
&lt;p&gt;The more statistically-minded analyst might already be thinking that we could make this relationship linear by log-transforming the axes – and they’d be right! We can see a clear linear relationship when we make the transformation:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(diamonds, aes(carat, price)) +
  geom_point() + 
  scale_y_log10() +
  scale_x_log10() &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/tutorials/dataviz/MakingExcellentVisualizations_files/figure-html/unnamed-chunk-13-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Unfortunately, transforming your visualizations in this way can make your graphic hard to understand – in fact, only about &lt;a href=&#34;https://www.nature.com/articles/s41559-018-0610-7?WT.feed_name=subjects_ecology&#34;&gt;60% of professional scientists&lt;/a&gt; can even understand them. As such, transforming your axes like this tends to reduce the effectiveness of your graphic – this type of visualization should be reserved for exploratory graphics and modeling, instead.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;And that just about wraps up this introduction to the basic concepts of data visualizations. Hopefully you’ve picked up some concepts or vocabulary that can help you think about your own visualizations in your daily life. I wanted to close out here with a list of resources I’ve found helpful in making graphics – I’ll keep adding to this over time:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When picking colors, I often find myself reaching for one of the following tools:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://colorbrewer2.org/#type=diverging&amp;amp;scheme=BrBG&amp;amp;n=5&#34;&gt;ColorBrewer&lt;/a&gt; provided most of the palettes for these graphics&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://colorsupplyyy.com/&#34;&gt;ColorSupply&lt;/a&gt; makes picking custom colors easier&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html&#34;&gt;Viridis&lt;/a&gt; provides beautiful, colorblind-friendly palettes for use (though this resource is a little harder to understand)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;I used the following resources in putting this post together:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://stat405.had.co.nz/&#34;&gt;Hadley Wickham’s Stat 405 Course&lt;/a&gt;, particularly the lecture on &lt;a href=&#34;http://stat405.had.co.nz/lectures/20-effective-vis.pdf&#34;&gt;effective visualizations&lt;/a&gt; (I’ve lifted “perceptual topology should match data toplogy”, “make important comparisons easy”, and “visualization is only one part of data analysis” directly from his slides)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://courses.cs.washington.edu/courses/cse442/17au/lectures/CSE442-VisualEncoding.pdf&#34;&gt;Jeffrey Heer’s CSE 442 lecture on visualizations&lt;/a&gt;, particularly the definitions for expressiveness and effectiveness
crayola crayon&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
